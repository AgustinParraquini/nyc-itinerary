const dayDetails={"Día 1 - Jueves 08/05":{title:"Nueva York - Midtown Manhattan",schedule:[{time:"07:20 AM",activity:"Llegada a NYC"},{time:"10:00 AM",activity:"Llegada al hotel (Paramount Hotel) y dejar maletas"},{time:"10:30 AM",activity:"Desayuno cerca de Times Square (Junior's Cheesecake o Starbucks Reserve Roastery)"},{time:"11:30 AM",activity:"Recorrido por Times Square y fotos (1h)"},{time:"12:30 PM",activity:"Caminata hacia Bryant Park y la Biblioteca Pública de Nueva York (1h)",note:"Tiempo de caminata: 10 min"},{time:"02:00 PM",activity:"Descanso / snack / regreso breve al hotel si necesario"},{time:"04:30 PM",activity:"SUMMIT One Vanderbilt",note:"Entrada recomendada 5:00 PM - atardecer, duración aprox. 1.5h"},{time:"07:00 PM",activity:"Cena en Times Square",note:"Tiempo de caminata: 10-15 min"}]},"Día 2 - Viernes 09/05":{title:"Uptown Manhattan (Clima soleado)",note:"Puedes tomar el bus turístico Hop-On Hop-Off incluido con el NY Pass para llegar al Museo de Historia Natural y luego al Apple Store o MOMA. Ideal si querés descansar las piernas.",schedule:[{time:"08:30 AM",activity:"Desayuno"},{time:"09:30 AM",activity:"Central Park en bicicleta",note:"Alquiler incluido con el NY Pass (reserva recomendada). Paseo de 6 horas recorriendo Bow Bridge, Bethesda Terrace, Strawberry Fields y otras zonas del parque."},{time:"11:30 AM",activity:"Museo Metropolitano de Arte (MET) (2h)",note:"NY Pass"},{time:"01:30 PM",activity:"Almuerzo liviano"},{time:"02:30 PM",activity:"Museo de Historia Natural (2h)",note:"✅ NY Pass - necesita reserva"},{time:"04:30 PM",activity:"Visita al Apple Store de vidrio (30 min)"},{time:"05:30 PM",activity:"Museo Guggenheim o MOMA (opcional según energía)"},{time:"08:00 PM",activity:"Rooftop Somewhere Nowhere",note:"Noche de fiesta con DJ y tragos"}]},"Día 3 - Sábado 10/05":{title:"Midtown Manhattan",schedule:[{time:"09:00 AM",activity:"Desayuno"},{time:"10:00 AM",activity:"Empire State Building (1h)",note:"✅ NY Pass - necesita reserva"},{time:"11:30 AM",activity:"Madison Square Park (30 min - opcional)"},{time:"12:30 PM",activity:"Tour Madison Square Garden (1h)",note:"NY Pass (si no hay evento)"},{time:"01:45 PM",activity:"Almuerzo en Midtown"},{time:"03:00 PM",activity:"Madame Tussauds (opcional - 1h)",note:"NY Pass (no requiere reserva)"},{time:"04:30 PM",activity:"Grand Central Terminal (45 min)"},{time:"06:00 PM",activity:"Bar 230",note:"Copas con vista al atardecer"}]},"Día 4 - Domingo 11/05":{title:"Brooklyn y DUMBO",schedule:[{time:"08:30 AM",activity:"Desayuno en Manhattan"},{time:"09:30 AM",activity:"Caminata o bici cruzando el Puente de Brooklyn (45 min)"},{time:"10:30 AM",activity:"Paseo por DUMBO",note:"Jane's Carousel, parque frente al río y foto icónica (1h)"},{time:"12:00 PM",activity:"Almuerzo en Time Out Market"},{time:"01:30 PM",activity:"Brooklyn Museum o Botanic Garden (1.5h)",note:"NY Pass - Opcional"},{time:"04:00 PM",activity:"Paseo por Brooklyn Bridge Park",note:"Ideal para fotos y descanso antes de cenar"}]},"Día 5 - Lunes 12/05":{title:"Downtown Manhattan",note:"El bus turístico Hop-On Hop-Off puede servirte para llegar hasta Battery Park o para regresar desde el Memorial del 11-S a otras zonas de Manhattan.",schedule:[{time:"08:30 AM",activity:"Ferry a la Estatua de la Libertad y Ellis Island (3h)",note:"✅ NY Pass - necesita reserva"},{time:"12:00 PM",activity:"Battery Park (30 min)"},{time:"12:45 PM",activity:"One World Observatory (1h)",note:"NY Pass"},{time:"02:00 PM",activity:"Oculus del World Trade Center (30 min)"},{time:"02:45 PM",activity:"Almuerzo en Eataly Downtown"},{time:"04:00 PM",activity:"Paseo por Wall Street y Charging Bull (45 min)"},{time:"05:00 PM",activity:"Memorial y Museo del 11-S (1.5h)"},{time:"07:00 PM",activity:"Cena en Tribeca o Lower Manhattan"}]},"Día 6 - Martes 13/05":{title:"Actividades con New York Pass",note:"También puedes utilizar el bus turístico Hop-On Hop-Off para moverte entre Radio City Music Hall, Midtown y el Pier 83 para el crucero.",schedule:[{time:"08:00 AM",activity:"Desayuno"},{time:"09:00 AM",activity:"Recorrido por los barrios (NYC Boroughs Tour)",note:"✅ NY Pass - necesita reserva - duración 5h aprox"},{time:"02:00 PM",activity:"Almuerzo y breve descanso"},{time:"03:30 PM",activity:"Radio City Music Hall (1h)",note:"NY Pass"},{time:"05:00 PM",activity:"Catedral de St. John the Divine (1h)",note:"NY Pass"},{time:"06:15 PM",activity:"Llegada al Pier 83 para embarcar"},{time:"07:00 PM",activity:"Harbor Lights Cruise",note:"✅ NY Pass - necesita reserva - duración 2h"}]},"Día 7 - Miércoles 14/05":{title:"Día Libre / Pendientes (sin New York Pass)",schedule:[{time:"09:00 AM",activity:"Desayuno"},{time:"10:00 AM",activity:"Visita al Vessel en Hudson Yards (30 min)"},{time:"11:00 AM",activity:"Pier 57 (45 min)"},{time:"12:00 PM",activity:"Caminata por la Quinta y Séptima Avenida (1h)"},{time:"01:30 PM",activity:"Almuerzo"},{time:"03:00 PM",activity:"Paseo por Harlem - Apollo Theater (opcional)"},{time:"05:00 PM",activity:"Tiempo libre para compras o descanso"},{time:"08:00 PM",activity:"Cena de despedida"}],extra_info:"\n        Opciones dentro de NY Pass aún disponibles:\n        • Museo Intrepid del Mar, Aire y Espacio\n        • Tour por el Estadio de los Yankees\n        • Edge Observation Deck (si no se repite vista con otras torres)\n        "}},days={"Día 1 - Jueves 08/05":[{name:"Hotel Paramount",coords:[40.756,-73.986]},{name:"Times Square",coords:[40.758,-73.9855]},{name:"Bryant Park & Biblioteca Pública",coords:[40.7536,-73.9832]},{name:"SUMMIT One Vanderbilt",coords:[40.7523,-73.9777]},{name:"Cena en Times Square",coords:[40.758,-73.9855]}],"Día 2 - Viernes 09/05":[{name:"Bow Bridge, Central Park",coords:[40.7759,-73.9719]},{name:"Museo MET",coords:[40.7794,-73.9632]},{name:"Museo de Historia Natural",coords:[40.7813,-73.9735]},{name:"Apple Store de vidrio",coords:[40.7635,-73.9726]},{name:"Museo Guggenheim",coords:[40.783,-73.959]},{name:"Rooftop Somewhere Nowhere",coords:[40.758,-73.9855]}],"Día 3 - Sábado 10/05":[{name:"Empire State Building",coords:[40.7484,-73.9857]},{name:"Madison Square Park",coords:[40.742,-73.9876]},{name:"Madison Square Garden",coords:[40.7505,-73.9934]},{name:"Madame Tussauds",coords:[40.7564,-73.9884]},{name:"Grand Central Terminal",coords:[40.7527,-73.9772]},{name:"Bar 230",coords:[40.7508,-73.9887]}],"Día 4 - Domingo 11/05":[{name:"Puente de Brooklyn (Manhattan)",coords:[40.7061,-74.0086]},{name:"DUMBO",coords:[40.7033,-73.9881]},{name:"Time Out Market",coords:[40.7022,-73.9881]},{name:"Brooklyn Museum",coords:[40.6712,-73.9636]},{name:"Brooklyn Botanic Garden",coords:[40.6694,-73.9624]},{name:"Brooklyn Bridge Park",coords:[40.7003,-73.9967]}],"Día 5 - Lunes 12/05":[{name:"Battery Park (Ferry Estatua Libertad)",coords:[40.7033,-74.017]},{name:"One World Observatory",coords:[40.7127,-74.0134]},{name:"Oculus",coords:[40.7115,-74.0097]},{name:"Eataly Downtown",coords:[40.7101,-74.0097]},{name:"Wall Street / Charging Bull",coords:[40.7055,-74.0113]},{name:"Memorial 11-S",coords:[40.7115,-74.0132]},{name:"Tribeca (Cena)",coords:[40.7163,-74.0086]}],"Día 6 - Martes 13/05":[{name:"Grand Central Terminal (Inicio NYC Boroughs Tour)",coords:[40.7527,-73.9772]},{name:"Radio City Music Hall",coords:[40.759,-73.9805]},{name:"Catedral St. John the Divine",coords:[40.8061,-73.9626]},{name:"Pier 83 (Embarque Harbor Cruise)",coords:[40.7527,-74.0071]},{name:"Harbor Lights Cruise",coords:[40.7527,-74.0071]}],"Día 7 - Miércoles 14/05":[{name:"Vessel en Hudson Yards",coords:[40.7542,-74.001]},{name:"Pier 57",coords:[40.7443,-74.0052]},{name:"Quinta y Séptima Avenidas",coords:[40.752,-73.98]},{name:"Apollo Theater (Harlem)",coords:[40.81,-73.95]}]},colors={"Día 1 - Jueves 08/05":"red","Día 2 - Viernes 09/05":"blue","Día 3 - Sábado 10/05":"green","Día 4 - Domingo 11/05":"purple","Día 5 - Lunes 12/05":"orange","Día 6 - Martes 13/05":"darkred","Día 7 - Miércoles 14/05":"cadetblue"},map=L.map("map").setView([40.758,-73.9855],12);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(map);const dayFeatures={};for(const[day,locations]of Object.entries(days)){const markers=[],coords=locations.map(e=>e.coords);locations.forEach(e=>{const t=L.marker(e.coords,{icon:L.divIcon({className:"custom-div-icon",html:`<div style="background-color: ${colors[day]};" class="marker-pin"></div>`,iconSize:[20,20],iconAnchor:[10,10]})}).bindPopup(e.name);markers.push(t)});const polyline=L.polyline(coords,{color:colors[day],weight:3,opacity:.7,smoothFactor:1});dayFeatures[day]={markers:markers,polyline:polyline}}function createScheduleHTML(e){return e.map(e=>`
                <div class="schedule-item">
                    <div class="time">${e.time}</div>
                    <div class="activity">
                        <div>${e.activity}</div>
                        ${e.note?`<div class="note">${e.note}</div>`:""}
                    </div>
                </div>
            `).join("")}function closeInfoPanel(){document.getElementById("day-info").style.display="none"}function toggleDay(e){const t=document.querySelectorAll(".day-button"),n=Array.from(t).find(t=>t.textContent.trim()===e);t.forEach(e=>e.classList.remove("active")),n.classList.add("active");for(const e in dayFeatures)dayFeatures[e].markers.forEach(e=>e.remove()),dayFeatures[e].polyline.remove();dayFeatures[e].markers.forEach(e=>e.addTo(map)),dayFeatures[e].polyline.addTo(map);const o=dayFeatures[e].polyline.getBounds(),i=window.innerWidth<=768;map.fitBounds(o,{padding:i?[30,30]:[50,50],maxZoom:15});const a=dayDetails[e],s=document.getElementById("day-info"),d=document.getElementById("day-title"),l=document.getElementById("day-subtitle"),r=document.getElementById("day-note"),c=document.getElementById("day-schedule"),y=document.getElementById("day-extra-info");s.style.display="block",d.textContent=e,d.style.color=colors[e],l.textContent=a.title,r.innerHTML=a.note||"",c.innerHTML=createScheduleHTML(a.schedule),y.innerHTML=a.extra_info||""}window.addEventListener("load",function(){const e=Object.keys(days)[0];toggleDay(e)}),window.addEventListener("resize",function(){const e=document.querySelector(".day-button.active");e&&toggleDay(e.textContent.trim())}); 